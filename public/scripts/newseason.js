$(document).bind("pageinit",function(){$("#btn-addcls").click(function(){var a=$("#addcls-name").val(),e=$("#addcls-index").val(),s="yes"==$("#addcls-ladies").val(),l="yes"==$("#addcls-stock").val(),t='<div class="ui-block-a ui-btn-inner axclassname" data-cname="'+a+'" style="font-weight:bold;">'+a+'</div><div class="ui-block-b" data-cname="'+a+'" style="padding-right:20px;"><input type="text" id="'+a+'--index" value="'+e+'" style="margin-top:0px;"/></div><div class="ui-block-c" data-cname="'+a+'"><select data-role="slider" id="'+a+'--ladies"><option value="no"'+(s?"":' selected="selected"')+'>No</option><option value="yes"'+(s?' selected="selected"':"")+'>Yes</option></select></div><div class="ui-block-c" data-cname="'+a+'"><select data-role="slider" id="'+a+'--stock"><option value="no"'+(l?"":' selected="selected"')+'>No</option><option value="yes"'+(l?' selected="selected"':"")+'>Yes</option></select></div><div class="ui-block-d" data-cname="'+a+'"><a class="btn-classremove"data-role="button" data-theme="e" style="cursor:pointer" data-cname="'+a+'">Remove</a></div>';$(t).appendTo("#classlist").trigger("create");$("#addcls-name").val(""),$("#addcls-index").val("1"),$("#addcls-ladies").val("no"),$("#addcls-stock").val("no")}),$("#btn-save").click(function(){var a=$("#year").val(),e=$("#maxpax").val(),s=$("#maxclass").val(),e=$("#maxpax").val(),l=[],t=[],c=parseInt($("#conepenalty").val()),d=[],n=[];for($(".axclassname").each(function(a,e){var s=$(e).text(),a=$("#"+s+"--index").val(),l="yes"==$("#"+s+"--ladies").val(),t="yes"==$("#"+s+"--stock").val();n.push({name:s,index:a,isLadies:l,isStock:t})}),i=1;i<=10;i++){var o=parseInt($("#cp-"+i).val());if(!(o>0))break;l.push(o)}for(i=1;i<=30;i++){var o=parseInt($("#pp-"+i).val());if(!(o>0))break;t.push(o)}0==d.length?$.ajax({url:"/api/season/"+cid,type:"POST",dataType:"json",data:{year:a,maxcls:s,maxpax:e,classes:n,clspts:l,paxpts:t,conepen:c},success:function(e){console.log(e),"success"==e.status?document.location.href="/club/"+clubname+"/season/"+a:alert(e.message)}}):alert("Invalid: "+d.join(", "))})});