"use-strict";function restart(){$.ajax({url:"/api/hardware/restart",dataType:"json",success:function(a){a.success||alert("Failed: "+a.message)}})}function save(a,r,e,t){$.ajax({url:"/api/hardware",type:"POST",dataType:"json",data:{interfaceType:a,comPort:r,enabled:e,restart:t},success:function(a){a.success?alert("Successfully saved and restarted the timing hardware configuration."):alert("Error: "+a.message)},error:function(a,r,e){alert("Error connecting or server error")}})}function portClick(){var a=$(this).data("port");$("#comport").val(a)}$(document).on("ready",function(){$.ajax({url:"/api/hardware",dataType:"json",success:function(a){if(a.ports){$("#portlist").empty();for(var r=0;r<a.ports.length;r++){var e=a.ports[r].comName,t=$('<a href="javascript:void(0)" data-port="'+e+'">'+e+"</a>").on("click",portClick);$("#portlist").append(t),$("#portlist").append("<br/>")}}else $("#portlist").html("No COM ports.  Plug in your timing hardware cable and then reload this page.")},error:function(a,r,e){alert(e)}}),$("#btn-save").on("click",function(){console.log("saving");var a=$("#interfaceType").val(),r=$("#comport").val(),e="yes"==$("#hardwareEnabled").val();save(a,r,e,!0)})});